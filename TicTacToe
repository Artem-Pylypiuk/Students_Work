#include <iostream>
#include <cstdlib>
struct Game {
    int player;
    char XorO;
    char board[3][3] = { {'1','2','3'},{'4','5','6'},{'7','8','9'} };
};
void gamespace(const Game& board1) {
    std::cout << " " << board1.board[0][0] << " | " << board1.board[0][1] << " | " << board1.board[0][2] << std::endl;
    std::cout << "---|---|---" << std::endl;
    std::cout << " " << board1.board[1][0] << " | " << board1.board[1][1] << " | " << board1.board[1][2] << std::endl;
    std::cout << "---|---|---" << std::endl;
    std::cout << " " << board1.board[2][0] << " | " << board1.board[2][1] << " | " << board1.board[2][2] << std::endl;
}
bool marker(Game& game, int num) {
    int row = (num - 1) / 3;
    int col = (num - 1) % 3;
    if (game.board[row][col] != 'X' && game.board[row][col] != 'O') {
        game.board[row][col] = game.XorO;
        return true;
    }
    return false;
}
bool check(Game& game) {
    if (game.board[0][2] == game.board[1][1] && game.board[1][1] == game.board[2][0]) {
        return true;
    }
    if (game.board[0][0] == game.board[1][1] && game.board[1][1] == game.board[2][2]) {
        return true;
    }
    for (int i = 0; i < 3; i++) {
        if (game.board[i][0] == game.board[i][1] && game.board[i][1] == game.board[i][2]) {
            return true;
        }
        if (game.board[0][i] == game.board[1][i] && game.board[1][i] == game.board[2][i]) {
            return true;
        }
    }
    return false;
}
void playerChange(Game& game) {
    if (game.XorO == 'X') {
        game.XorO = 'O';
    }
    else {
        game.XorO = 'X';
    }
}

bool tie(Game& game) {
    for (int i = 0; i < 3; i++) {
        for (int j = 0; j < 3; j++) {
            if (game.board[i][j] != 'X' && game.board[i][j] != 'O') {
                return true;
            }
        }
    }
    std::cout << "TIE!" << std::endl;
    return false;
}
void play() {
    Game game;
    game.XorO = 'X';
    gamespace(game);

    while (true) {
        int buff;
        std::cout << "Where do you want to put your symbol?" << std::endl;
        std::cin >> buff;
        marker(game, buff);
        std::system("cls");
        gamespace(game);
        if (check(game)) {
            std::cout << "Winner is \t" << game.XorO << std::endl;
            break;
        }
        if (!tie(game)) {
            break;
        }
        playerChange(game);
    }
}

int main()
{
    play();
}
